#!/bin/bash

# Cache the list of available cht.sh cheat sheets
cheatsheets_file="/tmp/cheatsheets.txt"

if [ ! -f "$cheatsheets_file" ]; then
    curl -s cht.sh/:list > "$cheatsheets_file"
fi

# Use fzf to create an interactive selection menu
selected=$(cat "$cheatsheets_file" | fzf --preview "curl -s cht.sh/{1}" --preview-window=right:70%)
if [ -n "$selected" ]; then
    # Construct the cht.sh URL with the selected cheat sheet
    url="cht.sh/$selected"

    # Display the cheat sheet in the terminal using curl
    curl -s "$url"
fi
